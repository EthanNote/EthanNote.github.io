# 选址问题综述

〔转自马云峰〕现代选址研究起于 1909 年，当时 Alfred Weber 为解决如何为单个仓库选址使得仓库到多个顾客间的总距离最小的问题，
他在欧氏空间里建立了一个 1-中位问题模型，就是著名的 Weber 问题。

## 1）基本选址问题

### （1）P-中位问题（p-median problems）
P-中位问题是研究如何选择P个服务站使得需求点和服务站之间的距离与需求量的乘积之和最小。Hakimi[13,16]提出该问题之后给出了 P-中位问题的 
Hakimi 特性，他证明了 P-中位问题的服务站候选点限制在网络节点上时至少有一个最优解是与不对选址点限制时的最优解是一致的，所以将网络连续选址的
P-中位问题简化到离散选址问题不会影响到目标函数的最优值。Goldman[17]给出了在树和只有一个环的网络上为单个服务站选址中位问题的简单算法。
Miehle 于 1958 年也研究过平面 1-中位问题，也就是 Weber 问题，是他发现了 Weiszfeld 的研究成果，被选址-分配问题的里程碑文章 Cooper[14] 
誉为 Weiszfeld 研究的发现者。对于空间 P-中位问题，也就是更一般的Weber 问题，Rosing[18]提出了最优解法。Garey 和 Johnson[19]证明了 
P-中位问题是 NP-困难问题。Francis[20]、Francis 和 Cabot[21]、Chen[22]以及 Chen 和 Handler[23]研究了基于欧氏距离的 P-中位问题。
　　近年来，P-中位问题仍然是研究的热点，许多学者研究 P-中位问题的各种变形和扩展模型：Wesolowsky[24]、Wesolowsky 和ruscott[25]、Drezner[26]
  研究了动态 P-中位问题。ReVelle[27]将目标函数定义为新建的服务站所占据的市场份额的最大化，成功地将中位问题运用于竞争环境下的零售商店选址问题中。
  Lorena、Senne[28]和 Luiz 等[29]运用列生成方法解决带容量限制的 P-中位问题。Berman 等[30]研究服务的可靠度随着服务设施与需求的距离变化的设施问题
  问题。Church 提出了通过减少分配的变量来减少约束的传统 P-中位问题的新建模方法[31]。Drezner[32]、Chen[33]、Chen 和 Handler[34]在此基础上
  研究条件中位问题，又称 PQ-中位问题，即网络中已存在 Q 个服务站的条件下，如何为 P 个同类服务站选址的中位问题。

### （2）P-中心问题（p-center problems）
P-中心问题也叫 minmax 问题，是探讨如何在网络中选择 P 个服务站，使得任意一需求点到距离该需求点最近的服务站的最大距离最小问题。Hakimi[13]首先提出网络中 P-中心问题，Kariv 和 Hakimi[35]证明了 P-中心问题为 NP-困难问题。Drezner 和Wesolowsky[36]提出了 Drezner-Wesolowsky 法解决多服务站的 P-中心问题。Francis[37]在平面上的 P-中心问题研究中取得一些进展, Wesolowsky[38]研究基于直线距离 P-中心问题；十年后，Chen[22]、Ward 和 Wendell[39]对基于欧几里德距离的 P-中心问题作了研究。Masuyayma，Ibaraki 和 Hasegawa[40]、Megiddo 和 Supowit[41]证明了基于直线距离和欧氏距离的 P-中心问题都是 NP-完全问题。C. Caruso 等[42]通过求解一系列集覆盖的问题的办法求解 P-中心问题。Hassin, Levin, Morad D[43]提出了运用词典区域局部搜索法来求解 P-中心问题。Yuri Levin,Adi Ben-Israel[44]对大规模 P-中心问题给出了启发式算法，对一些著名的问题进行了计算分析。

### （3）覆盖问题（covering problems）
覆盖问题分为最大覆盖问题和集覆盖问题两类。集覆盖问题研究满足覆盖所有需求点顾客的前提下，服务站总的建站个数或建设费用最小的问题。集覆盖问题最早是由 Roth[45]和 Toregas[46]等提出的，用于解决消防中心和救护车等的应急服务设施的选址问题，他们分别建立了服务站建站成本不同和相同情况下集覆盖问题的整数规划模型。随后 Minieka[47]、Moore 和 ReVelle[48]等都继续研究集覆盖问题。Plane 和Hendrick[49]、Daskin 和 Stern[50]建立了服务站个数最小和备用覆盖的顾客最大的双目标集覆盖问题。Heung-Suk Huang[51]研究了产品会随时间变坏或变好时的动态集覆盖问题。最近十几年来许多基于启发式的算法被用于解决集覆盖问题，M.L. Fisher 和 P.Kedia[52]提出了基于对偶的启发算法并用来解决最多有 200 个候选点、2000 个需求点的集覆盖问题；Beasley J.E. 和 Jornsten. K[53]将次梯度优化法和拉格朗日松弛算法结合起来求解这类问题；Marcos Alminana 和 Jesus T. Pastor[54]应用代理启发式算法求解集覆盖问题。J.E. Beasley 和 P.C. Chu[55]给出了求解服务站建站成本不同时集覆盖问题的遗传算法。Grossman 和 Wool[56]用大量的实验对比了九种用于求解 SCLP 的启发式算法，其中随机贪婪算法(R-Gr)、简单贪婪算法(S-Gr)和转换贪婪算法(Alt-Gr)在几乎
所有问题中都是最好的前四种算法之一，其中随机贪婪算法表现最好，在 60 个随机问题中有 56 次获得最好的解。Karp[57]证明了集覆盖问题是 NP-完全问题。

最大覆盖问题或 P-覆盖问题是研究在服务站的数目和服务半径已知的条件下，如何设立 P 个服务站使得可接受服务的需求量最大的问题。同其它基本问题一样，最大网络覆盖问题也是 NP-困难问题(Mark s.Daskin)[58]。最初的最大覆盖问题是由 Church RL 和 ReVelle C[59]提出的，他们将服务站最优选址点限制在网络节点上；Church RL和 Meadows ME[60]在确定的关键候选节点集合中给出了一般情况下的最优算法，他们通过线性规划的方法求解，如果最优解不是整数就用分枝定界法求解；Church 和
Meadows[60]提出了最大覆盖问题的伪 Hakimi 特性，即在任何一个网络中，存在一个有限节点的扩展集，在这个集合中至少包含一个最大覆盖问题的最优解。Benedict[61]，Hogan 和 ReVelle[62]，Daskin[63]考虑服务系统拥挤情况下的最大覆盖问题，他们把任意一个服务站繁忙的概率当作外生变量，目标函数是服务站可以覆盖的期望需求量最大。Haldun Aytug 和 Cem Saydam[64]用遗传算法来求解大规模最大期望覆盖问题，并进行了比较。Fernando Y[65]等对最大期望覆盖问题中排队与非排队的情况进行了对比。Berman[66]研究了最大覆盖问题和部分覆盖问题之间的关系。Oded Berman 和 DmitryKrass[67] 、Oded Berman, Dmitry Krass 和 Zvi Drezner[68]讨论比传统最大覆盖问题更一般的最大覆盖问题，并给出了拉格朗日松弛算法。Orhan Karasakal 和 Esra K.Karasakal[69]讨论了部分覆盖问题，对覆盖程度进行了定义。Jorge H. Jaramillo、Joy Bhadury 和 Rajan Batta[70] 在选址问题的遗传算法应用研究时介绍了最大覆盖问题遗传算法的操作策略。

## 2）扩展选址问题
在前面三个基本选址问题的基础上考虑其它因素就形成了扩展选址问题。由于扩展选址问题是由不同的分类方法根据实际应用需要组合而成，所以各类型之间存在较大的交叉，本文仅以最具代表特征的部分对不同的类型命名并进行综述。

### （1）带固定费用和/或容量限制的选址问题
最容易也最常想到也最有实际意义的就是考虑服务站建站的固定费用和服务站的容量(服务能力)限制这两个因素，所以早期对基本选址问题的扩展研究较多地集中在将这两个因素加进基本选址问题上。无容量限制固定费用下的选址问题(UFLP)就是将固定建站费用加到 P-中位问题的目标函数上，并且去掉对服务站建站个数的约束。Cornuejols、Fisher 和 Nemhauser[71]对该问题进行了细致的分类和具体的分析，Swain[72]运用 Bender 分解法求解 UFLP，Barros 和 Labbe[73]、Holmberg[74]对 UFLP 进行了更深入的研究。Geoffrion 和 McBride[75]研究用拉格朗日算法解决带容量限制的服务站选址问题。Mukundan 和 Daskin[76]将固定费用有容量限制的选址问题模型(CFLP)用于解决利润最大化的类似问题，Bender 分解法也被 Mark s. Daskin[58]用来求解 CFLP。最近Hinojosa，Puerto 和 Fernandez[77]研究了多产品带容量限制的服务站选址问题，Melkote和 Daskin[78]总结了网络上带容量限制的服务站选址问题的各种模型。Roberto Baldacci等[79]提出了一种基于集剖分的方法来求解容量限制的选址问题。

### （2）截流问题
截流问题研究顾客需求产生在路线上的问题，根据服务站工作性质可以分为服务型和对抗型两大类。服务型截流问题广泛应用于交通规划、交通服务、交通监测等方面，比如如何在交通路网中设立交通量观测点使监测到的交通流量最大的问题就是服务型截流问题。对抗型截流问题用于解决收费、检查、缉私等站点的选址问题。Hodgson[80]，Berman、Fouska 和 Larson[81]最早提出截流问题，研究了需求路线确定的条件下，给定设施的数目，如何在网络中选址使通过服务站的需求量总和达到最大的截流问题，并建立了此类问题的基本模型，提出了启发式的贪婪算法来求解截流问题模型。Mirchandani 、Rebello 和 Agnetis[82]通过基本截流问题向集覆盖问题的转换证明了基本的截流问题是 NP-困难问题。Hodgson 等[83]研究了服务站的顾客流量是由两部分组成的截流问题，一部分是产生于日常路线上的过路需求，另一部分是产生于节点的固定需求。Averbakh、Berman[84]研究了顾客流量细分和接受多次服务的一般模型和扩展模型。Berman 和 Krass[85]首先给出了竞争环境下的服务站截流选址问题，并给出了启发式算法和最坏情况分析。Mirchandani、Rebello 和 Agnetis[86]最早提出了对抗型服务站的截流问题。Yang.H和 Yang.C[87]研究了用户路线不确定条件下，检查站设在网络的边上的截流问题，建立了线性规划模型，并用列生成法求得精确解。

### （3）Hub 选址问题
Hub 选址问题是和截流问题有些类似的选址问题，需求也是产生在 OD 对上，在顾客从 O 点出发到 D 的过程中要接受 Hub 的服务。同截流问题不同的是，OD 流并不是走最短路从 O 点到 D 点，经过 Hub 中转服务后要比直接从 O 点到 D 点要快，比如交通系统中的中转站、通信系统的交换机或服务器等。O’Kelly[88,89]开创了 Hub 选址问题的研究工作，Marianov[90]研究了竞争环境下的 Hub 选址问题，Kara 和 Tansel[91]研究了单分配 P-Hub 选址问题，Ebery 和 Krishnamoorthy[92]研究了带容量限制多分配的 Hub 选址问题。

### （4）选址－分配问题
选址－分配问题的一般形式类似于 P-中位问题，最初由 Curry 和 Skeith[93]提出这一问题。Geoffrion 和 Graves[94]开始研究多级服务站选址－分配问题。Wesolowsky 和Truscott[95]研究了多阶段的选址分配问题，并用 Bender 分解法求解配送中心选址问题。oodchild[96,97]、Hodgson[98]也参与了这个问题的研究并对选址－分配问题进行了理论回顾。Marianov 和 Serra D[99]研究了受等待时间或排队约束的多服务中心选址－分配问题。Luce Brotcorne、Gilbert Laporte 和 Frederic Semet[100]以救护车为背景的选址－分配问题研究现状进行了总结。

### （5）随机选址问题
随机选址问题中考虑到现实世界的复杂性，把服务站的运行时间、建设成本、需求点位置、需求数量等部分或全部输入参数看作是不确定的。随机选址问题分为随机概率问题和随机情景问题。随机概率问题是指输入参数是服从某种分布时的随机选址问题。Carbone[101]在解决需求不确定下公共设施的网络选址问题时开始研究了需求量服从多变量正态分布、带机会约束的 P-中位问题，建立了非线性模型。Weaver 和Church[102]研究在任意弧长服从离散随机分布的随机网络上的中位问题，建立了整数规划模型并用拉格朗日松弛算法和替代启发式算法求解。Berman 和 Odoni[103]、Berman和 LeBlanc[104]研究了行程时间状态随马尔可夫状态转移矩阵变化的多设施选址问题。Mirchandani[105]研究了行程时间、供应与需求模式都是随机变化的条件下的 P-中位问题和无容量限制固定费用的仓库选址问题。Daskin[106-108]在研究EMS车辆选址问题时，研究考虑运输车辆繁忙概率的最大覆盖期望问题。ReVelle 和 Hogan[109]在集覆盖的背景下考虑车辆可用性的问题，并在最大覆盖的基础上研究 可靠度的 P-中心问题。Ghosh 和 Craig[110]研究了只有两个卖主的垄断市场、固定的市场需求量、多零售点的随机选址问题。随机情景问题是将不确定的性分解成多个可能在将来发生的状态，同随机概率选址问题相区别的是它是离散的随机问题，模型的目标是在所有可能的情况下达到最佳。Vanston 等[111]研究了情景建模的方法，给出了 12 种生成合适情景的步骤，Amara和 Lipinski[112]、Georgantzas 和 Acar[113]和 Van der Heijden[114]作了更进一步的研究。随
机情景模型的目标最少有三种方式：所有情景下的期望值最好、最坏情景下的目标值最优、所有情景下的期望遗憾度或最坏情景下遗憾度最小。Averbakh 和 Berman[115]研究了间隔需求不确定条件下最小遗憾度的网络 P-中心问题。D.Serra、S.Ratick 和 C.ReVelle[116]和 D. Serra、V. Marianov[117]通过建立多种需求情景，建立了目标函数为服务的最小需求最大和最大遗憾度最小的两个随机情景问题模型，在他们用此办法解决巴塞罗那的消防站选址决策的问题中，网络节点需求和行程时间都是不确定的。A.Ghosh 和 S.L. McLafferty[118]应用这种方法解决了环境不确定时零售连锁店选址问题，目标是使市场份额最大化。

### （6）动态选址问题
现实世界中不仅存在着不确定性，也存在着动态性，因此动态模型能更准确地反映实际问题，当然，考虑动态因素不可避免地会增加模型的复杂性和求解的难度。动态选址问题研究的是在未来若干时间段内服务站的最优选址问题，在不同的时间段内动态选址模型的参数值是不同的，但在某一具体的时间段内模型参数是确定的。R.HBallou[119]在有限个计划的时间段内为单个仓库选址的问题中，建立了以利润最大化为目标的动态模型，并运用一系列的静态确定型最优选址策略来解决这个多阶段的动态选址问题。D.J. Sweeney 和 R.L. Tatham[120]通过增加备选服务站集改善了 Ballou 的算法。A.J. Scott[121]研究多个设施多阶段的选址－分配的问题，并应用近视算法（myopic algorithm）来求解。C.S. Tapiero[122]研究了有运输成本和服务站有容量限制的动态选址－分配模型。T.J. VanRoy 和 D. Erlenkotter[123]研究了不带容量限制的动态选址问题，允许早期建立的服务站在一定时间后关闭。Z. Drezner[26]提出了渐进式 P-中位问题，研究需求随时间分阶段变化，不考虑分配问题，目标是在整个时间范围内总的运输费用最低。G. Gunawardane[124]在研究公用设施的选址问题中建立了动态的集覆盖问题和最大覆盖问题模型，考虑了未来若干时间段的覆盖情况。

### （7）竞争选址问题
竞争选址问题考虑市场上存在两个以上的同类产品或服务的提供者，或服务站提供多个产品或服务。目前的竞争选址研究集中在静态问题上，考虑确定和随机两种情况，研究背景多以连锁零售业为主。静态确定型的竞争选址问题是在现存的竞争者已知而且确定，顾客只到最有吸引力的服务站的“全有全无”假设的条件下研究的，静态随机竞争选址问题是在 Huff[125]的引力模型的基础上研究的。Hotelling H.在 1929 年首先提出了两家卖主寡头垄断的市场竞争模型。Nakanishi 和 Cooper[126]在竞争选址研究中提出了一个影响市场份额分配的效用函数。Hakimi[16]研究了竞争环境下的 P-中位问题。T. Drezner[127]在向现有服务站集增建一个服务站的问题中引入了考虑服务站品质引力和平衡距离的效用函数，建立了确定竞争选址模型。T. Drezner 和 Z. Drezner[128]研究了效用函数决定顾客选择服务站的概率，新建服务站的市场份额期望最大的选址问题。Marianov、Serra 和 ReVelle[129]研究了竞争条件下无容量限制的 Hub 选址模型。Drezner 和 Z. Drezner 和 Salhi[130]提出了应用模拟退火和 Ascent 相结合的算法求解新建服务站市场份额期望最大的竞争选址问题。
